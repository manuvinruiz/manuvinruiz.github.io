---
title: ROSPlan documentation, planner
---
<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<title>ROSPlan by KCL-Planning</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="../stylesheets/normalize.css" media="screen">
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
		<link rel="stylesheet" type="text/css" href="../stylesheets/github-light.css" media="screen">
		<link rel="stylesheet" type="text/css" href="../stylesheets/syntax.css" media="screen">
		<script src="../jquery.js"></script> 
		<script> 
		$(function(){
		  $("#includedContent").load("../templates/nav-main.html"); 
		  $("#includedSideBar").load("../templates/nav-sidebar.html"); 
		});
		</script>
	</head>
	<body>
    	<div id="includedContent"></div>

		<section class="main-content">

	    	<div id="includedSideBar"></div>
			<section class="documentation-content">

			<h2>Using the Planner Interface</h2>

			<img src="images/dia_planner.png" class="chart"/>

			<p>The planner interface performs the following functions:</p>

			<ol>
			<li>Generates a PDDL problem instance, by fetching the PDDL model from the Knowledge Base.</li>
			<li>Calls the planner.</li>
			<li>Reads and stores the output of the planner.</li>
			</ol>

			<h4>Contents:</h4>
			<ul>
			<li><a href="#pgs">Problem Generation Service</a></li>
			<li><a href="#pse">Planning Services</a></li>
			</ul>

			<a id="pgs"></a>
			<h4>Problem Generation Service</h4>

			<p>The problem generation service allows you to use the planner interface to generate a problem from the Knowledge Base, without planning.  The problem service is called in the following way:</p>

			<p><strong>Problem Generation service</strong>
				<br/>Topic: <em>/kcl_rosplan/problem_server_params</em>
				<br/>Service: <em>rosplan_dispatch_msgs/PlanningService</em>
				<br/>A problem will be generated from the Knowledge Base. The problem will be published on the problem topic. The service returns when the problem is generated. Some launch parameters are overriden by the service request: <em>domain_path</em>, <em>problem_path</em>, <em>data_path</em>.</p>
			</p>

			<a id="pse"></a>
			<h4>Planning Services</h4>

			<p>The planning process will automatically generate a problem file, call the planner using the command line parameter, and parse the planner output. The problem and plan are published as described in the <a href="http://kcl-planning.github.io/ROSPlan/documentation/topics.html">list of topics</a>. There are four ways of starting the planning process:</p>

			<ol>
			<li>Calling the basic planning system service.</li>
			<li>Calling the planning system service with parameters.</li>
			<li>Sending an action goal to the planning system action server.</li>
			<li>Using a ROSPlan GUI.</li>
			</ol>

			<p><strong>Basic planning system service</strong>
				<br/>Topic: <em>/kcl_rosplan/planning_server</em>
				<br/>Service: <em>std_srvs/Empty</em>
				<br/>The planning system will begin. The service returns when: the planner fails to find a plan; the dispatch completes successfuly; there are no more replanning attempts; or the planning system encounters an error.</p>
			</p>

			<p><strong>Planning system service with parameters</strong>
				<br/>Topic: <em>/kcl_rosplan/planning_server_params</em>
				<br/>Service: <em>rosplan_dispatch_msgs/PlanningService</em>
				<br/>As the basic service. Some launch parameters are overriden by the service request: <em>domain_path</em>, <em>problem_path</em>, <em>data_path</em>, <em>planner_command</em>.
			</p>

			<p><strong>Sending an action goal to the planning system</strong>
				<br/>Topic: <em>/kcl_rosplan/start_planning/goal</em>
				<br/>Message: <em>rosplan_dispatch_msgs/PlanActionGoal</em>
				<br/>Start the planning system as a ROS action. For more information see the <a href="http://wiki.ros.org/actionlib">actionlib</a> documentation.
			</p>

			</section>

			<footer class="site-footer">
				<span class="site-footer-owner"><a href="https://github.com/KCL-Planning/ROSPlan">ROSPlan</a> is maintained by <a href="https://github.com/KCL-Planning">KCL-Planning</a>.</span>
				<span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
			</footer>

		</section>


	</body>
</html>
